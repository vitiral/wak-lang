(module
  (type $0 (func (param i32 i32) (result i32)))
  (type $1 (func (param i64 i64) (result i32)))
  (func $0
    (type 0)
    (local.get 0)
    (i32.const 1)
    (i32.add)
    (local.get 1)
    (i32.const 1)
    (i32.add)
    (i32.lt_s)
  )
  (func $1
    (type 0)
    (local.get 0)
    (i32.const 1)
    (i32.add)
    (local.get 1)
    (i32.const 1)
    (i32.add)
    (i32.lt_u)
  )
  (func $2
    (type 1)
    (local.get 0)
    (i64.const 1)
    (i64.add)
    (local.get 1)
    (i64.const 1)
    (i64.add)
    (i64.lt_s)
  )
  (func $3
    (type 1)
    (local.get 0)
    (i64.const 1)
    (i64.add)
    (local.get 1)
    (i64.const 1)
    (i64.add)
    (i64.lt_u)
  )
  (export "i32.no_fold_cmp_s_offset" (func 0))
  (export "i32.no_fold_cmp_u_offset" (func 1))
  (export "i64.no_fold_cmp_s_offset" (func 2))
  (export "i64.no_fold_cmp_u_offset" (func 3))
)
(assert_return
  (invoke "i32.no_fold_cmp_s_offset" (i32.const 2_147_483_647) (i32.const 0))
  (i32.const 1)
)
(assert_return
  (invoke "i32.no_fold_cmp_u_offset" (i32.const -1) (i32.const 0))
  (i32.const 1)
)
(assert_return
  (invoke "i64.no_fold_cmp_s_offset"
    (i64.const 9_223_372_036_854_775_807)
    (i64.const 0)
  )
  (i32.const 1)
)
(assert_return
  (invoke "i64.no_fold_cmp_u_offset" (i64.const -1) (i64.const 0))
  (i32.const 1)
)
(module
  (type $0 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.wrap_i64) (i64.extend_i32_s))
  (export "i64.no_fold_wrap_extend_s" (func 0))
)
(assert_return
  (invoke "i64.no_fold_wrap_extend_s" (i64.const 4_538_991_236_898_928))
  (i64.const 1_079_009_392)
)
(assert_return
  (invoke "i64.no_fold_wrap_extend_s" (i64.const 45_230_338_458_316_960))
  (i64.const -790_564_704)
)
(module
  (type $0 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.wrap_i64) (i64.extend_i32_u))
  (export "i64.no_fold_wrap_extend_u" (func 0))
)
(assert_return
  (invoke "i64.no_fold_wrap_extend_u" (i64.const 4_538_991_236_898_928))
  (i64.const 1_079_009_392)
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0
    (type 0)
    (local.get 0)
    (i32.const 1)
    (i32.shl)
    (i32.const 1)
    (i32.shr_s)
  )
  (func $1
    (type 0)
    (local.get 0)
    (i32.const 1)
    (i32.shl)
    (i32.const 1)
    (i32.shr_u)
  )
  (func $2
    (type 1)
    (local.get 0)
    (i64.const 1)
    (i64.shl)
    (i64.const 1)
    (i64.shr_s)
  )
  (func $3
    (type 1)
    (local.get 0)
    (i64.const 1)
    (i64.shl)
    (i64.const 1)
    (i64.shr_u)
  )
  (export "i32.no_fold_shl_shr_s" (func 0))
  (export "i32.no_fold_shl_shr_u" (func 1))
  (export "i64.no_fold_shl_shr_s" (func 2))
  (export "i64.no_fold_shl_shr_u" (func 3))
)
(assert_return
  (invoke "i32.no_fold_shl_shr_s" (i32.const -2_147_483_648))
  (i32.const 0)
)
(assert_return
  (invoke "i32.no_fold_shl_shr_u" (i32.const -2_147_483_648))
  (i32.const 0)
)
(assert_return
  (invoke "i64.no_fold_shl_shr_s" (i64.const -9_223_372_036_854_775_808))
  (i64.const 0)
)
(assert_return
  (invoke "i64.no_fold_shl_shr_u" (i64.const -9_223_372_036_854_775_808))
  (i64.const 0)
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0
    (type 0)
    (local.get 0)
    (i32.const 1)
    (i32.shr_s)
    (i32.const 1)
    (i32.shl)
  )
  (func $1
    (type 0)
    (local.get 0)
    (i32.const 1)
    (i32.shr_u)
    (i32.const 1)
    (i32.shl)
  )
  (func $2
    (type 1)
    (local.get 0)
    (i64.const 1)
    (i64.shr_s)
    (i64.const 1)
    (i64.shl)
  )
  (func $3
    (type 1)
    (local.get 0)
    (i64.const 1)
    (i64.shr_u)
    (i64.const 1)
    (i64.shl)
  )
  (export "i32.no_fold_shr_s_shl" (func 0))
  (export "i32.no_fold_shr_u_shl" (func 1))
  (export "i64.no_fold_shr_s_shl" (func 2))
  (export "i64.no_fold_shr_u_shl" (func 3))
)
(assert_return (invoke "i32.no_fold_shr_s_shl" (i32.const 1)) (i32.const 0))
(assert_return (invoke "i32.no_fold_shr_u_shl" (i32.const 1)) (i32.const 0))
(assert_return (invoke "i64.no_fold_shr_s_shl" (i64.const 1)) (i64.const 0))
(assert_return (invoke "i64.no_fold_shr_u_shl" (i64.const 1)) (i64.const 0))
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0
    (type 0)
    (local.get 0)
    (i32.const 6)
    (i32.div_s)
    (i32.const 6)
    (i32.mul)
  )
  (func $1
    (type 0)
    (local.get 0)
    (i32.const 6)
    (i32.div_u)
    (i32.const 6)
    (i32.mul)
  )
  (func $2
    (type 1)
    (local.get 0)
    (i64.const 6)
    (i64.div_s)
    (i64.const 6)
    (i64.mul)
  )
  (func $3
    (type 1)
    (local.get 0)
    (i64.const 6)
    (i64.div_u)
    (i64.const 6)
    (i64.mul)
  )
  (export "i32.no_fold_div_s_mul" (func 0))
  (export "i32.no_fold_div_u_mul" (func 1))
  (export "i64.no_fold_div_s_mul" (func 2))
  (export "i64.no_fold_div_u_mul" (func 3))
)
(assert_return (invoke "i32.no_fold_div_s_mul" (i32.const 1)) (i32.const 0))
(assert_return (invoke "i32.no_fold_div_u_mul" (i32.const 1)) (i32.const 0))
(assert_return (invoke "i64.no_fold_div_s_mul" (i64.const 1)) (i64.const 0))
(assert_return (invoke "i64.no_fold_div_u_mul" (i64.const 1)) (i64.const 0))
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (local.get 0) (i32.div_s))
  (func $1 (type 0) (local.get 0) (local.get 0) (i32.div_u))
  (func $2 (type 1) (local.get 0) (local.get 0) (i64.div_s))
  (func $3 (type 1) (local.get 0) (local.get 0) (i64.div_u))
  (export "i32.no_fold_div_s_self" (func 0))
  (export "i32.no_fold_div_u_self" (func 1))
  (export "i64.no_fold_div_s_self" (func 2))
  (export "i64.no_fold_div_u_self" (func 3))
)
(assert_trap
  (invoke "i32.no_fold_div_s_self" (i32.const 0))
  "integer divide by zero"
)
(assert_trap
  (invoke "i32.no_fold_div_u_self" (i32.const 0))
  "integer divide by zero"
)
(assert_trap
  (invoke "i64.no_fold_div_s_self" (i64.const 0))
  "integer divide by zero"
)
(assert_trap
  (invoke "i64.no_fold_div_u_self" (i64.const 0))
  "integer divide by zero"
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (local.get 0) (i32.rem_s))
  (func $1 (type 0) (local.get 0) (local.get 0) (i32.rem_u))
  (func $2 (type 1) (local.get 0) (local.get 0) (i64.rem_s))
  (func $3 (type 1) (local.get 0) (local.get 0) (i64.rem_u))
  (export "i32.no_fold_rem_s_self" (func 0))
  (export "i32.no_fold_rem_u_self" (func 1))
  (export "i64.no_fold_rem_s_self" (func 2))
  (export "i64.no_fold_rem_u_self" (func 3))
)
(assert_trap
  (invoke "i32.no_fold_rem_s_self" (i32.const 0))
  "integer divide by zero"
)
(assert_trap
  (invoke "i32.no_fold_rem_u_self" (i32.const 0))
  "integer divide by zero"
)
(assert_trap
  (invoke "i64.no_fold_rem_s_self" (i64.const 0))
  "integer divide by zero"
)
(assert_trap
  (invoke "i64.no_fold_rem_u_self" (i64.const 0))
  "integer divide by zero"
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0
    (type 0)
    (local.get 0)
    (i32.const 6)
    (i32.mul)
    (i32.const 6)
    (i32.div_s)
  )
  (func $1
    (type 0)
    (local.get 0)
    (i32.const 6)
    (i32.mul)
    (i32.const 6)
    (i32.div_u)
  )
  (func $2
    (type 1)
    (local.get 0)
    (i64.const 6)
    (i64.mul)
    (i64.const 6)
    (i64.div_s)
  )
  (func $3
    (type 1)
    (local.get 0)
    (i64.const 6)
    (i64.mul)
    (i64.const 6)
    (i64.div_u)
  )
  (export "i32.no_fold_mul_div_s" (func 0))
  (export "i32.no_fold_mul_div_u" (func 1))
  (export "i64.no_fold_mul_div_s" (func 2))
  (export "i64.no_fold_mul_div_u" (func 3))
)
(assert_return
  (invoke "i32.no_fold_mul_div_s" (i32.const -2_147_483_648))
  (i32.const 0)
)
(assert_return
  (invoke "i32.no_fold_mul_div_u" (i32.const -2_147_483_648))
  (i32.const 0)
)
(assert_return
  (invoke "i64.no_fold_mul_div_s" (i64.const -9_223_372_036_854_775_808))
  (i64.const 0)
)
(assert_return
  (invoke "i64.no_fold_mul_div_u" (i64.const -9_223_372_036_854_775_808))
  (i64.const 0)
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const 2) (i32.div_s))
  (func $1 (type 1) (local.get 0) (i64.const 2) (i64.div_s))
  (export "i32.no_fold_div_s_2" (func 0))
  (export "i64.no_fold_div_s_2" (func 1))
)
(assert_return (invoke "i32.no_fold_div_s_2" (i32.const -11)) (i32.const -5))
(assert_return (invoke "i64.no_fold_div_s_2" (i64.const -11)) (i64.const -5))
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const 2) (i32.rem_s))
  (func $1 (type 1) (local.get 0) (i64.const 2) (i64.rem_s))
  (export "i32.no_fold_rem_s_2" (func 0))
  (export "i64.no_fold_rem_s_2" (func 1))
)
(assert_return (invoke "i32.no_fold_rem_s_2" (i32.const -11)) (i32.const -1))
(assert_return (invoke "i64.no_fold_rem_s_2" (i64.const -11)) (i64.const -1))
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const 0) (i32.div_s))
  (func $1 (type 0) (local.get 0) (i32.const 0) (i32.div_u))
  (func $2 (type 1) (local.get 0) (i64.const 0) (i64.div_s))
  (func $3 (type 1) (local.get 0) (i64.const 0) (i64.div_u))
  (export "i32.div_s_0" (func 0))
  (export "i32.div_u_0" (func 1))
  (export "i64.div_s_0" (func 2))
  (export "i64.div_u_0" (func 3))
)
(assert_trap (invoke "i32.div_s_0" (i32.const 71)) "integer divide by zero")
(assert_trap (invoke "i32.div_u_0" (i32.const 71)) "integer divide by zero")
(assert_trap (invoke "i64.div_s_0" (i64.const 71)) "integer divide by zero")
(assert_trap (invoke "i64.div_u_0" (i64.const 71)) "integer divide by zero")
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const 3) (i32.div_s))
  (func $1 (type 0) (local.get 0) (i32.const 3) (i32.div_u))
  (func $2 (type 1) (local.get 0) (i64.const 3) (i64.div_s))
  (func $3 (type 1) (local.get 0) (i64.const 3) (i64.div_u))
  (export "i32.div_s_3" (func 0))
  (export "i32.div_u_3" (func 1))
  (export "i64.div_s_3" (func 2))
  (export "i64.div_u_3" (func 3))
)
(assert_return (invoke "i32.div_s_3" (i32.const 71)) (i32.const 23))
(assert_return
  (invoke "i32.div_s_3" (i32.const 1_610_612_736))
  (i32.const 536_870_912)
)
(assert_return (invoke "i32.div_u_3" (i32.const 71)) (i32.const 23))
(assert_return
  (invoke "i32.div_u_3" (i32.const -1_073_741_824))
  (i32.const 1_073_741_824)
)
(assert_return (invoke "i64.div_s_3" (i64.const 71)) (i64.const 23))
(assert_return
  (invoke "i64.div_s_3" (i64.const 3_458_764_513_820_540_928))
  (i64.const 1_152_921_504_606_846_976)
)
(assert_return (invoke "i64.div_u_3" (i64.const 71)) (i64.const 23))
(assert_return
  (invoke "i64.div_u_3" (i64.const -4_611_686_018_427_387_904))
  (i64.const 4_611_686_018_427_387_904)
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const 5) (i32.div_s))
  (func $1 (type 0) (local.get 0) (i32.const 5) (i32.div_u))
  (func $2 (type 1) (local.get 0) (i64.const 5) (i64.div_s))
  (func $3 (type 1) (local.get 0) (i64.const 5) (i64.div_u))
  (export "i32.div_s_5" (func 0))
  (export "i32.div_u_5" (func 1))
  (export "i64.div_s_5" (func 2))
  (export "i64.div_u_5" (func 3))
)
(assert_return (invoke "i32.div_s_5" (i32.const 71)) (i32.const 14))
(assert_return
  (invoke "i32.div_s_5" (i32.const 1_342_177_280))
  (i32.const 268_435_456)
)
(assert_return (invoke "i32.div_u_5" (i32.const 71)) (i32.const 14))
(assert_return
  (invoke "i32.div_u_5" (i32.const -1_610_612_736))
  (i32.const 536_870_912)
)
(assert_return (invoke "i64.div_s_5" (i64.const 71)) (i64.const 14))
(assert_return
  (invoke "i64.div_s_5" (i64.const 5_764_607_523_034_234_880))
  (i64.const 1_152_921_504_606_846_976)
)
(assert_return (invoke "i64.div_u_5" (i64.const 71)) (i64.const 14))
(assert_return
  (invoke "i64.div_u_5" (i64.const -6_917_529_027_641_081_856))
  (i64.const 2_305_843_009_213_693_952)
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const 7) (i32.div_s))
  (func $1 (type 0) (local.get 0) (i32.const 7) (i32.div_u))
  (func $2 (type 1) (local.get 0) (i64.const 7) (i64.div_s))
  (func $3 (type 1) (local.get 0) (i64.const 7) (i64.div_u))
  (export "i32.div_s_7" (func 0))
  (export "i32.div_u_7" (func 1))
  (export "i64.div_s_7" (func 2))
  (export "i64.div_u_7" (func 3))
)
(assert_return (invoke "i32.div_s_7" (i32.const 71)) (i32.const 10))
(assert_return
  (invoke "i32.div_s_7" (i32.const 1_879_048_192))
  (i32.const 268_435_456)
)
(assert_return (invoke "i32.div_u_7" (i32.const 71)) (i32.const 10))
(assert_return
  (invoke "i32.div_u_7" (i32.const -536_870_912))
  (i32.const 536_870_912)
)
(assert_return (invoke "i64.div_s_7" (i64.const 71)) (i64.const 10))
(assert_return
  (invoke "i64.div_s_7" (i64.const 8_070_450_532_247_928_832))
  (i64.const 1_152_921_504_606_846_976)
)
(assert_return (invoke "i64.div_u_7" (i64.const 71)) (i64.const 10))
(assert_return
  (invoke "i64.div_u_7" (i64.const -2_305_843_009_213_693_952))
  (i64.const 2_305_843_009_213_693_952)
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const 3) (i32.rem_s))
  (func $1 (type 0) (local.get 0) (i32.const 3) (i32.rem_u))
  (func $2 (type 1) (local.get 0) (i64.const 3) (i64.rem_s))
  (func $3 (type 1) (local.get 0) (i64.const 3) (i64.rem_u))
  (export "i32.rem_s_3" (func 0))
  (export "i32.rem_u_3" (func 1))
  (export "i64.rem_s_3" (func 2))
  (export "i64.rem_u_3" (func 3))
)
(assert_return (invoke "i32.rem_s_3" (i32.const 71)) (i32.const 2))
(assert_return (invoke "i32.rem_s_3" (i32.const 1_610_612_736)) (i32.const 0))
(assert_return (invoke "i32.rem_u_3" (i32.const 71)) (i32.const 2))
(assert_return (invoke "i32.rem_u_3" (i32.const -1_073_741_824)) (i32.const 0))
(assert_return (invoke "i64.rem_s_3" (i64.const 71)) (i64.const 2))
(assert_return
  (invoke "i64.rem_s_3" (i64.const 3_458_764_513_820_540_928))
  (i64.const 0)
)
(assert_return (invoke "i64.rem_u_3" (i64.const 71)) (i64.const 2))
(assert_return
  (invoke "i64.rem_u_3" (i64.const -4_611_686_018_427_387_904))
  (i64.const 0)
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const 5) (i32.rem_s))
  (func $1 (type 0) (local.get 0) (i32.const 5) (i32.rem_u))
  (func $2 (type 1) (local.get 0) (i64.const 5) (i64.rem_s))
  (func $3 (type 1) (local.get 0) (i64.const 5) (i64.rem_u))
  (export "i32.rem_s_5" (func 0))
  (export "i32.rem_u_5" (func 1))
  (export "i64.rem_s_5" (func 2))
  (export "i64.rem_u_5" (func 3))
)
(assert_return (invoke "i32.rem_s_5" (i32.const 71)) (i32.const 1))
(assert_return (invoke "i32.rem_s_5" (i32.const 1_342_177_280)) (i32.const 0))
(assert_return (invoke "i32.rem_u_5" (i32.const 71)) (i32.const 1))
(assert_return (invoke "i32.rem_u_5" (i32.const -1_610_612_736)) (i32.const 0))
(assert_return (invoke "i64.rem_s_5" (i64.const 71)) (i64.const 1))
(assert_return
  (invoke "i64.rem_s_5" (i64.const 5_764_607_523_034_234_880))
  (i64.const 0)
)
(assert_return (invoke "i64.rem_u_5" (i64.const 71)) (i64.const 1))
(assert_return
  (invoke "i64.rem_u_5" (i64.const -6_917_529_027_641_081_856))
  (i64.const 0)
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const 7) (i32.rem_s))
  (func $1 (type 0) (local.get 0) (i32.const 7) (i32.rem_u))
  (func $2 (type 1) (local.get 0) (i64.const 7) (i64.rem_s))
  (func $3 (type 1) (local.get 0) (i64.const 7) (i64.rem_u))
  (export "i32.rem_s_7" (func 0))
  (export "i32.rem_u_7" (func 1))
  (export "i64.rem_s_7" (func 2))
  (export "i64.rem_u_7" (func 3))
)
(assert_return (invoke "i32.rem_s_7" (i32.const 71)) (i32.const 1))
(assert_return (invoke "i32.rem_s_7" (i32.const 1_879_048_192)) (i32.const 0))
(assert_return (invoke "i32.rem_u_7" (i32.const 71)) (i32.const 1))
(assert_return (invoke "i32.rem_u_7" (i32.const -536_870_912)) (i32.const 0))
(assert_return (invoke "i64.rem_s_7" (i64.const 71)) (i64.const 1))
(assert_return
  (invoke "i64.rem_s_7" (i64.const 8_070_450_532_247_928_832))
  (i64.const 0)
)
(assert_return (invoke "i64.rem_u_7" (i64.const 71)) (i64.const 1))
(assert_return
  (invoke "i64.rem_u_7" (i64.const -2_305_843_009_213_693_952))
  (i64.const 0)
)
(module
  (type $0 (func (param i32) (result i32)))
  (type $1 (func (param i64) (result i64)))
  (func $0 (type 0) (local.get 0) (i32.const -1) (i32.div_s))
  (func $1 (type 1) (local.get 0) (i64.const -1) (i64.div_s))
  (export "i32.no_fold_div_neg1" (func 0))
  (export "i64.no_fold_div_neg1" (func 1))
)
(assert_trap
  (invoke "i32.no_fold_div_neg1" (i32.const -2_147_483_648))
  "integer overflow"
)
(assert_trap
  (invoke "i64.no_fold_div_neg1" (i64.const -9_223_372_036_854_775_808))
  "integer overflow"
)
